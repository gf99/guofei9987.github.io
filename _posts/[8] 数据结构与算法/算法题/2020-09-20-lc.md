---
layout: post
title: LeetCode刷题精选篇
categories:
tags: 8-数据结构与算法
keywords:
description:
order: 590
---





## 数学类
数学类的解法一般泛用性低，但巧妙。
### 水库算法
有一个链表，我们不知道其长度，设计一个算法对其节点做均匀随机采样。要求最多做一次遍历。



水库算法：遍历这个链表，在遍历到第i个节点时，有 $\dfrac{1}{i}$ 的概率选择这个节点覆盖掉之前的节点选择。  
(整个算法只需要遍历一次)



水库算法随机性的证明：  
长度为n的链表，第i个节点被选中的充要条件是：第i个节点被选中，并且之后遍历第i+1到n个节点时，都未被替换。

这个概率就是 $\dfrac{1}{i}\times\dfrac{i}{i+1}\times\dfrac{i+1}{i+2}\times...\times\dfrac{n-1}{n}=\dfrac{1}{n}$
